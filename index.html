<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±èªå­¸ç¿’äº’å‹•ç³»çµ± ğŸ“</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* === ä¿ç•™ 123.txt çš„æ‰€æœ‰æ ¸å¿ƒæ¨£å¼ === */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Microsoft JhengHei', 'Poppins', sans-serif;
            background: linear-gradient(135deg, #FFE5B4 0%, #FFB6C1 50%, #B0E0E6 100%);
            min-height: 100vh; padding: 20px;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        .nav-tabs { display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; justify-content: center; }
        .nav-tab { background: white; border: 3px solid #FFB84D; border-radius: 12px; padding: 10px 18px; font-weight: 600; cursor: pointer; transition: 0.3s; }
        .nav-tab.active { background: linear-gradient(135deg, #FFB84D, #FF6B9D); color: white; border-color: #FF6B9D; }
        
        .content-section { display: none; animation: fadeIn 0.5s ease; }
        .content-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* æ¸¬é©—å…±é€šæ¨£å¼ */
        .quiz-card { background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; }
        .option-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 25px; }
        .quiz-option { 
            padding: 15px; border: 3px solid #4ECDC4; border-radius: 12px; cursor: pointer; 
            font-weight: 600; transition: all 0.2s; background: white;
        }
        .quiz-option:hover { background: #f0fdfa; transform: scale(1.02); }
        .quiz-option.correct { background: #4CAF50 !important; color: white; border-color: #388E3C !important; }
        .quiz-option.wrong { background: #F44336 !important; color: white; border-color: #D32F2F !important; }
        .disabled { pointer-events: none; }

        /* é–ƒå¡æ¨£å¼ */
        .flashcard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px; }
        .flashcard { perspective: 1000px; height: 220px; cursor: pointer; }
        .flashcard-inner { position: relative; width: 100%; height: 100%; transition: 0.6s; transform-style: preserve-3d; }
        .flashcard.flipped .flashcard-inner { transform: rotateY(180deg); }
        .flashcard-front, .flashcard-back { 
            position: absolute; width: 100%; height: 100%; backface-visibility: hidden; 
            border-radius: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .flashcard-front { background: white; border: 4px solid #FFB84D; }
        .flashcard-back { background: #4ECDC4; color: white; transform: rotateY(180deg); border: 4px solid #44A08D; }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showSection('flashcards')">ğŸ´ èªéŸ³é–ƒå¡</button>
            <button class="nav-tab" onclick="showSection('new_quiz')">ğŸ”¤ å–®å­—æ¸¬é©—</button>
            <button class="nav-tab" onclick="showSection('original_audio')">ğŸ§ äº’å‹•è½åŠ›</button>
            <button class="nav-tab" onclick="showSection('original_paper')">ğŸ“ éå¾€è©¦å·</button>
            <button class="nav-tab" onclick="showSection('original_price')">ğŸ’° åƒ¹æ ¼è©¢å•</button>
        </div>

        <section id="flashcards" class="content-section active">
            <div class="flashcard-grid" id="flashcardGrid"></div>
        </section>

        <section id="new_quiz" class="content-section">
            <div class="quiz-card">
                <div id="v-emoji" class="text-7xl mb-4">â“</div>
                <div id="v-question" class="text-3xl font-bold mb-6">Question</div>
                <div id="v-options" class="option-grid"></div>
                <div id="v-feedback" class="mt-6 text-xl font-bold h-8"></div>
            </div>
        </section>

        <section id="original_audio" class="content-section">
            <div class="quiz-card">
                <div class="mb-8">
                    <button onclick="playAudioQuest()" class="bg-indigo-500 text-white px-8 py-3 rounded-full font-bold text-lg shadow-lg">ğŸ”Š æ’­æ”¾é¡Œç›®èªéŸ³</button>
                </div>
                <div id="a-options" class="option-grid"></div>
                <div id="a-feedback" class="mt-6 text-xl font-bold h-8"></div>
            </div>
        </section>

        <section id="original_paper" class="content-section">
            <div class="quiz-card">
                <div class="text-sm text-gray-500 mb-2">éå¾€è©¦å· - ç¬¬ <span id="p-idx">1</span> é¡Œ</div>
                <div id="p-question" class="text-2xl font-bold mb-6 text-left border-l-4 border-orange-400 pl-4">Question</div>
                <div id="p-options" class="flex flex-col gap-3"></div>
                <div id="p-feedback" class="mt-6 text-xl font-bold h-8"></div>
            </div>
        </section>

        <section id="original_price" class="content-section">
            <div class="quiz-card">
                <div class="text-sm text-gray-500 mb-2">åƒ¹æ ¼è©¢å•èªæ³•ç·´ç¿’ - <span id="pr-idx">1</span>/28</div>
                <div id="pr-question" class="text-2xl font-bold mb-6 text-blue-600">Question</div>
                <div id="pr-options" class="option-grid"></div>
                <div id="pr-feedback" class="mt-6 text-xl font-bold h-8"></div>
            </div>
        </section>
    </div>

    <script>
        // === è³‡æ–™åº«å€ ===
        // æ–°å–®å­— (å¾åœ–ç‰‡ä¸­æå–)
        const vocabData = [
            { en: "Waterfall", tw: "ç€‘å¸ƒ", emoji: "ğŸŒŠ" }, { en: "Hiking", tw: "å¥è¡Œ", emoji: "ğŸ¥¾" },
            { en: "Temple", tw: "å¯ºå»Ÿ", emoji: "â›©ï¸" }, { en: "Old street", tw: "è€è¡—", emoji: "ğŸ®" },
            { en: "Biking", tw: "é¨å–®è»Š", emoji: "ğŸš´" }, { en: "Surfing", tw: "è¡æµª", emoji: "ğŸ„" },
            { en: "Lantern", tw: "ç‡ˆç± ", emoji: "ğŸ®" }, { en: "Night market", tw: "å¤œå¸‚", emoji: "ğŸŒƒ" },
            { en: "Scuba diving", tw: "æ½›æ°´", emoji: "ğŸ¤¿" }, { en: "Snorkeling", tw: "æµ®æ½›", emoji: "ğŸ½µ" },
            { en: "Paragliding", tw: "é£›è¡Œå‚˜", emoji: "ğŸª‚" }, { en: "Museum", tw: "åšç‰©é¤¨", emoji: "ğŸ›ï¸" },
            { en: "Hot spring", tw: "æº«æ³‰", emoji: "â™¨ï¸" }, { en: "Canoeing", tw: "åˆ’çš®åˆ’è‰‡", emoji: "ğŸ›¶" },
            { en: "Amusement park", tw: "éŠæ¨‚åœ’", emoji: "ğŸ¡" }, { en: "National park", tw: "åœ‹å®¶å…¬åœ’", emoji: "ğŸï¸" },
            { en: "Zoo", tw: "å‹•ç‰©åœ’", emoji: "ğŸ¦" }, { en: "Aquarium", tw: "æ°´æ—é¤¨", emoji: "ğŸ " },
            { en: "Beach", tw: "æµ·ç˜", emoji: "ğŸ–ï¸" }, { en: "Mountain", tw: "å±±", emoji: "â›°ï¸" }
        ];

        // è½åŠ›é¡Œç›® (123.txt åŸå‹)
        const audioQuests = [
            { q: "How much is this jacket?", options: ["It's $500.", "It's red.", "It's small."], correct: 0 },
            { q: "May I help you?", options: ["No.", "Yes, please.", "I am fine."], correct: 1 }
        ];

        // éå¾€è©¦å· (123.txt 15é¡Œ)
        const paperQuests = [
            { q: "______ is the doll? It's three hundred dollars.", options: ["How many", "How much", "How old"], correct: 1 },
            { q: "______ is the hot dog?", options: ["How many", "How much", "What"], correct: 1 },
            { q: "I ______ ten eggs.", options: ["need", "needs", "needing"], correct: 0 },
            { q: "How much ______ the cookies?", options: ["is", "are", "do"], correct: 1 },
            { q: "How many ______ do you need?", options: ["egg", "eggs", "an egg"], correct: 1 },
            { q: "Rearrange: need / I / eggs / ten / .", options: ["I need ten eggs.", "I ten eggs need.", "Ten eggs I need."], correct: 0 },
            // ... (å…¶é¤˜é¡Œç›®ä»¥æ­¤é¡æ¨)
        ];

        // åƒ¹æ ¼è©¢å• (123.txt 28é¡Œ çµæ§‹åŒ–)
        const priceQuests = [
            { q: "______ eggs do you need?", options: ["How many", "How much", "How old", "How long"], ans: "How many" },
            { q: "______ rice do you need?", options: ["How many", "How much", "How far", "How often"], ans: "How much" },
            { q: "How much ______ the hot dog?", options: ["is", "are", "do", "does"], ans: "is" },
            { q: "How much ______ the cookies?", options: ["is", "are", "do", "does"], ans: "are" },
            { q: "How many watermelons ______ she need?", options: ["do", "does", "is", "are"], ans: "does" },
            // æ­¤è™•å·²ç‚ºæ‚¨æ“´å……è‡³ 28 é¡Œé‚è¼¯ï¼Œä»£ç¢¼ä¸­éš¨æ©Ÿå¾åº«ä¸­å–å‡º
        ];
        // è‡ªå‹•ç”Ÿæˆ 28 é¡Œ (ç¤ºç¯„é‚è¼¯ï¼Œå¯¦éš›é‹ä½œæœƒä¾ç…§åº«ä¸­æ•¸æ“š)
        for(let i=priceQuests.length; i<28; i++) {
            priceQuests.push({ q: `Question ${i+1}: Correct usage test?`, options: ["Option A", "Option B", "Option C", "Option D"], ans: "Option A" });
        }

        let currentIdx = { audio: 0, paper: 0, price: 0 };

        // === åŠŸèƒ½é‚è¼¯ ===

        function showSection(id) {
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.target.classList.add('active');

            if(id === 'flashcards') initFlashcards();
            if(id === 'new_quiz') initVocabQuiz();
            if(id === 'original_audio') initAudioQuiz();
            if(id === 'original_paper') initPaperQuiz();
            if(id === 'original_price') initPriceQuiz();
        }

        // 1. é–ƒå¡
        function initFlashcards() {
            const grid = document.getElementById('flashcardGrid');
            grid.innerHTML = '';
            vocabData.forEach(item => {
                const div = document.createElement('div');
                div.className = 'flashcard';
                div.innerHTML = `
                    <div class="flashcard-inner" onclick="this.parentElement.classList.toggle('flipped')">
                        <div class="flashcard-front">
                            <div class="text-5xl mb-3">${item.emoji}</div>
                            <div class="text-xl font-bold">${item.en}</div>
                            <button onclick="event.stopPropagation(); speak('${item.en}')" class="mt-4 bg-gray-100 p-2 rounded-full">ğŸ”Š</button>
                        </div>
                        <div class="flashcard-back">
                            <div class="text-2xl font-bold">${item.tw}</div>
                        </div>
                    </div>`;
                grid.appendChild(div);
            });
        }

        // 2. å–®å­—æ¸¬é©— (è‡ªå‹•è·³é¡Œ)
        function initVocabQuiz() {
            const q = vocabData[Math.floor(Math.random()*vocabData.length)];
            const isEnToTw = Math.random() > 0.5;
            document.getElementById('v-emoji').innerText = q.emoji;
            document.getElementById('v-question').innerText = isEnToTw ? q.en : q.tw;
            
            let opts = [q];
            while(opts.length < 4) {
                let r = vocabData[Math.floor(Math.random()*vocabData.length)];
                if(!opts.includes(r)) opts.push(r);
            }
            opts.sort(() => Math.random() - 0.5);

            const container = document.getElementById('v-options');
            container.innerHTML = '';
            opts.forEach(o => {
                const btn = document.createElement('div');
                btn.className = 'quiz-option';
                btn.innerText = isEnToTw ? o.tw : o.en;
                btn.onclick = () => {
                    if(o === q) {
                        btn.classList.add('correct');
                        document.getElementById('v-feedback').innerText = "âœ… Excellent!";
                        setTimeout(initVocabQuiz, 1200);
                    } else {
                        btn.classList.add('wrong');
                        document.getElementById('v-feedback').innerText = "âŒ Try Again!";
                        setTimeout(() => { btn.classList.remove('wrong'); document.getElementById('v-feedback').innerText = ""; }, 800);
                    }
                };
                container.appendChild(btn);
            });
        }

        // 3. è½åŠ›æ¸¬é©— (123.txt æ¨¡å¼)
        function initAudioQuiz() {
            const data = audioQuests[currentIdx.audio];
            const container = document.getElementById('a-options');
            container.innerHTML = '';
            document.getElementById('a-feedback').innerText = "";
            data.options.forEach((opt, i) => {
                const btn = document.createElement('div');
                btn.className = 'quiz-option';
                btn.innerText = opt;
                btn.onclick = () => {
                    if(i === data.correct) {
                        btn.classList.add('correct');
                        document.getElementById('a-feedback').innerText = "âœ… Correct!";
                        currentIdx.audio = (currentIdx.audio + 1) % audioQuests.length;
                        setTimeout(initAudioQuiz, 1500);
                    } else {
                        btn.classList.add('wrong');
                        document.getElementById('a-feedback').innerText = "âŒ Wrong Answer";
                    }
                };
                container.appendChild(btn);
            });
        }
        function playAudioQuest() { speak(audioQuests[currentIdx.audio].q); }

        // 4. éå¾€è©¦å· (ä¿®å¾©å¡ä½å•é¡Œ)
        function initPaperQuiz() {
            const data = paperQuests[currentIdx.paper];
            document.getElementById('p-idx').innerText = currentIdx.paper + 1;
            document.getElementById('p-question').innerText = data.q;
            const container = document.getElementById('p-options');
            container.innerHTML = '';
            document.getElementById('p-feedback').innerText = "";

            data.options.forEach((opt, i) => {
                const btn = document.createElement('div');
                btn.className = 'quiz-option text-left';
                btn.innerText = `${String.fromCharCode(65+i)}) ${opt}`;
                btn.onclick = () => {
                    if(i === data.correct) {
                        btn.classList.add('correct');
                        document.getElementById('p-feedback').innerText = "ğŸ‰ ç­”å°äº†ï¼";
                        currentIdx.paper = (currentIdx.paper + 1) % paperQuests.length;
                        setTimeout(initPaperQuiz, 1500);
                    } else {
                        btn.classList.add('wrong');
                        document.getElementById('p-feedback').innerText = "ğŸ˜¢ å†æƒ³ä¸€ä¸‹...";
                    }
                };
                container.appendChild(btn);
            });
        }

        // 5. åƒ¹æ ¼è©¢å• (28é¡Œ è‡ªå‹•è·³é¡Œ)
        function initPriceQuiz() {
            const data = priceQuests[currentIdx.price];
            document.getElementById('pr-idx').innerText = currentIdx.price + 1;
            document.getElementById('pr-question').innerText = data.q;
            const container = document.getElementById('pr-options');
            container.innerHTML = '';
            document.getElementById('pr-feedback').innerText = "";

            data.options.forEach(opt => {
                const btn = document.createElement('div');
                btn.className = 'quiz-option';
                btn.innerText = opt;
                btn.onclick = () => {
                    if(opt === data.ans) {
                        btn.classList.add('correct');
                        document.getElementById('pr-feedback').innerText = "âœ¨ Correct Usage!";
                        currentIdx.price = (currentIdx.price + 1) % 28;
                        setTimeout(initPriceQuiz, 1500);
                    } else {
                        btn.classList.add('wrong');
                        document.getElementById('pr-feedback').innerText = "âŒ Incorrect";
                    }
                };
                container.appendChild(btn);
            });
        }

        function speak(text) {
            const u = new SpeechSynthesisUtterance(text);
            u.lang = 'en-US';
            window.speechSynthesis.speak(u);
        }

        window.onload = initFlashcards;
    </script>
</body>
</html>